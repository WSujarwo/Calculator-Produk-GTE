<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class GppValidationSeeder extends Seeder
{
    public function run(): void
    {
        $now = now();

        $densityJson = <<<'JSON'
[{"type_code":"GTE2600AI","size_code":"04","density":1.30},{"type_code":"GTE2600AI","size_code":"06","density":1.28},{"type_code":"GTE2600AI","size_code":"08","density":1.26},{"type_code":"GTE2600AI","size_code":"10","density":1.23},{"type_code":"GTE2600AI","size_code":"12","density":1.21},{"type_code":"GTE2600AI","size_code":"14","density":1.18},{"type_code":"GTE2600AI","size_code":"16","density":1.16},{"type_code":"GTE2600AI","size_code":"19","density":1.13},{"type_code":"GTE2600AI","size_code":"22","density":1.09},{"type_code":"GTE2600AI","size_code":"25","density":1.05},{"type_code":"GTE2700AI","size_code":"08","density":0.67},{"type_code":"GTE3310AI","size_code":"04","density":1.39},{"type_code":"GTE3310AI","size_code":"06","density":1.35},{"type_code":"GTE3310AI","size_code":"08","density":1.31},{"type_code":"GTE3310AI","size_code":"10","density":1.27},{"type_code":"GTE3310AI","size_code":"12","density":1.23},{"type_code":"GTE3310AI","size_code":"14","density":1.19},{"type_code":"GTE3310AI","size_code":"16","density":1.15},{"type_code":"GTE3310AI","size_code":"19","density":1.09},{"type_code":"GTE3310AI","size_code":"22","density":1.03},{"type_code":"GTE3310AI","size_code":"25","density":0.97},{"type_code":"GTE3315AI","size_code":"04","density":1.26},{"type_code":"GTE3315AI","size_code":"06","density":1.25},{"type_code":"GTE3315AI","size_code":"08","density":1.24},{"type_code":"GTE3315AI","size_code":"10","density":1.23},{"type_code":"GTE3315AI","size_code":"12","density":1.21},{"type_code":"GTE3315AI","size_code":"14","density":1.20},{"type_code":"GTE3315AI","size_code":"16","density":1.19},{"type_code":"GTE3315AI","size_code":"19","density":1.17},{"type_code":"GTE3315AI","size_code":"22","density":1.15},{"type_code":"GTE3315AI","size_code":"25","density":1.14},{"type_code":"GTE9010AI","size_code":"04","density":1.15},{"type_code":"GTE9010AI","size_code":"06","density":1.13},{"type_code":"GTE9010AI","size_code":"08","density":1.12},{"type_code":"GTE9010AI","size_code":"10","density":1.1},{"type_code":"GTE9010AI","size_code":"12","density":1.1},{"type_code":"GTE9010AI","size_code":"14","density":1.1},{"type_code":"GTE9010AI","size_code":"16","density":1.05},{"type_code":"GTE9010AI","size_code":"19","density":1.02},{"type_code":"GTE9010AI","size_code":"22","density":1},{"type_code":"GTE9010AI","size_code":"25","density":0.97},{"type_code":"GTE9011AI","size_code":"04","density":1.37},{"type_code":"GTE9011AI","size_code":"06","density":1.31},{"type_code":"GTE9011AI","size_code":"08","density":1.26},{"type_code":"GTE9011AI","size_code":"10","density":1.2},{"type_code":"GTE9011AI","size_code":"12","density":1.14},{"type_code":"GTE9011AI","size_code":"14","density":1.08},{"type_code":"GTE9011AI","size_code":"16","density":1.02},{"type_code":"GTE9011AI","size_code":"19","density":0.93},{"type_code":"GTE9011AI","size_code":"22","density":0.84},{"type_code":"GTE9011AI","size_code":"25","density":0.75},{"type_code":"GTE9018AI","size_code":"04","density":1.42},{"type_code":"GTE9018AI","size_code":"06","density":1.34},{"type_code":"GTE9018AI","size_code":"08","density":1.25},{"type_code":"GTE9018AI","size_code":"10","density":1.17},{"type_code":"GTE9018AI","size_code":"12","density":1.09},{"type_code":"GTE9018AI","size_code":"14","density":1.01},{"type_code":"GTE9018AI","size_code":"16","density":0.92},{"type_code":"GTE9018AI","size_code":"19","density":0.8},{"type_code":"GTE9018AI","size_code":"22","density":0.68},{"type_code":"GTE9018AI","size_code":"25","density":0.55},{"type_code":"GTE9043AI","size_code":"04","density":1.61},{"type_code":"GTE9043AI","size_code":"06","density":1.59},{"type_code":"GTE9043AI","size_code":"08","density":1.56},{"type_code":"GTE9043AI","size_code":"10","density":1.54},{"type_code":"GTE9043AI","size_code":"12","density":1.52},{"type_code":"GTE9043AI","size_code":"14","density":1.50},{"type_code":"GTE9043AI","size_code":"16","density":1.48},{"type_code":"GTE9043AI","size_code":"19","density":1.45},{"type_code":"GTE9043AI","size_code":"22","density":1.42},{"type_code":"GTE9043AI","size_code":"25","density":1.39},{"type_code":"GTE9043TQ","size_code":"04","density":1.44},{"type_code":"GTE9043TQ","size_code":"06","density":1.42},{"type_code":"GTE9043TQ","size_code":"08","density":1.4},{"type_code":"GTE9043TQ","size_code":"10","density":1.38},{"type_code":"GTE9043TQ","size_code":"12","density":1.36},{"type_code":"GTE9043TQ","size_code":"14","density":1.34},{"type_code":"GTE9043TQ","size_code":"16","density":1.32},{"type_code":"GTE9043TQ","size_code":"19","density":1.29},{"type_code":"GTE9043TQ","size_code":"22","density":1.26},{"type_code":"GTE9043TQ","size_code":"25","density":1.23},{"type_code":"GTE9044AI","size_code":"04","density":1.98},{"type_code":"GTE9044AI","size_code":"06","density":1.95},{"type_code":"GTE9044AI","size_code":"08","density":1.91},{"type_code":"GTE9044AI","size_code":"10","density":1.87},{"type_code":"GTE9044AI","size_code":"12","density":1.83},{"type_code":"GTE9044AI","size_code":"14","density":1.80},{"type_code":"GTE9044AI","size_code":"16","density":1.76},{"type_code":"GTE9044AI","size_code":"19","density":1.7},{"type_code":"GTE9044AI","size_code":"22","density":1.64},{"type_code":"GTE9044AI","size_code":"25","density":1.59},{"type_code":"GTE9044TQ","size_code":"04","density":1.79},{"type_code":"GTE9044TQ","size_code":"06","density":1.75},{"type_code":"GTE9044TQ","size_code":"08","density":1.72},{"type_code":"GTE9044TQ","size_code":"10","density":1.68},{"type_code":"GTE9044TQ","size_code":"12","density":1.65},{"type_code":"GTE9044TQ","size_code":"14","density":1.61},{"type_code":"GTE9044TQ","size_code":"16","density":1.58},{"type_code":"GTE9044TQ","size_code":"19","density":1.52},{"type_code":"GTE9044TQ","size_code":"22","density":1.47},{"type_code":"GTE9044TQ","size_code":"25","density":1.41},{"type_code":"GTE9045AI","size_code":"04","density":1.92},{"type_code":"GTE9045AI","size_code":"06","density":1.90},{"type_code":"GTE9045AI","size_code":"08","density":1.87},{"type_code":"GTE9045AI","size_code":"10","density":1.85},{"type_code":"GTE9045AI","size_code":"12","density":1.82},{"type_code":"GTE9045AI","size_code":"14","density":1.80},{"type_code":"GTE9045AI","size_code":"16","density":1.77},{"type_code":"GTE9045AI","size_code":"19","density":1.74},{"type_code":"GTE9045AI","size_code":"22","density":1.70},{"type_code":"GTE9045AI","size_code":"25","density":1.66},{"type_code":"GTE9045HT","size_code":"04","density":1.77},{"type_code":"GTE9045HT","size_code":"06","density":1.73},{"type_code":"GTE9045HT","size_code":"08","density":1.68},{"type_code":"GTE9045HT","size_code":"10","density":1.64},{"type_code":"GTE9045HT","size_code":"12","density":1.60},{"type_code":"GTE9045HT","size_code":"14","density":1.55},{"type_code":"GTE9045HT","size_code":"16","density":1.51},{"type_code":"GTE9045HT","size_code":"19","density":1.44},{"type_code":"GTE9045HT","size_code":"22","density":1.38},{"type_code":"GTE9045HT","size_code":"25","density":1.31},{"type_code":"GTE9045TQ","size_code":"04","density":1.72},{"type_code":"GTE9045TQ","size_code":"06","density":1.69},{"type_code":"GTE9045TQ","size_code":"08","density":1.67},{"type_code":"GTE9045TQ","size_code":"10","density":1.65},{"type_code":"GTE9045TQ","size_code":"12","density":1.62},{"type_code":"GTE9045TQ","size_code":"14","density":1.60},{"type_code":"GTE9045TQ","size_code":"16","density":1.58},{"type_code":"GTE9045TQ","size_code":"19","density":1.54},{"type_code":"GTE9045TQ","size_code":"22","density":1.51},{"type_code":"GTE9045TQ","size_code":"25","density":1.47},{"type_code":"GTE9045TH","size_code":"04","density":1.77},{"type_code":"GTE9045TH","size_code":"06","density":1.73},{"type_code":"GTE9045TH","size_code":"08","density":1.68},{"type_code":"GTE9045TH","size_code":"10","density":1.64},{"type_code":"GTE9045TH","size_code":"12","density":1.60},{"type_code":"GTE9045TH","size_code":"14","density":1.55},{"type_code":"GTE9045TH","size_code":"16","density":1.51},{"type_code":"GTE9045TH","size_code":"19","density":1.44},{"type_code":"GTE9045TH","size_code":"22","density":1.38},{"type_code":"GTE9045TH","size_code":"25","density":1.31},{"type_code":"GTE9046AI","size_code":"04","density":2.24},{"type_code":"GTE9046AI","size_code":"06","density":2.19},{"type_code":"GTE9046AI","size_code":"08","density":2.13},{"type_code":"GTE9046AI","size_code":"10","density":2.07},{"type_code":"GTE9046AI","size_code":"12","density":2.02},{"type_code":"GTE9046AI","size_code":"14","density":1.96},{"type_code":"GTE9046AI","size_code":"16","density":1.90},{"type_code":"GTE9046AI","size_code":"19","density":1.82},{"type_code":"GTE9046AI","size_code":"22","density":1.74},{"type_code":"GTE9046AI","size_code":"25","density":1.65},{"type_code":"GTE9046GS","size_code":"04","density":2.06},{"type_code":"GTE9046GS","size_code":"06","density":2.01},{"type_code":"GTE9046GS","size_code":"08","density":1.96},{"type_code":"GTE9046GS","size_code":"10","density":1.90},{"type_code":"GTE9046GS","size_code":"12","density":1.85},{"type_code":"GTE9046GS","size_code":"14","density":1.79},{"type_code":"GTE9046GS","size_code":"16","density":1.74},{"type_code":"GTE9046GS","size_code":"19","density":1.66},{"type_code":"GTE9046GS","size_code":"22","density":1.58},{"type_code":"GTE9046GS","size_code":"25","density":1.50},{"type_code":"GTE9046TQ","size_code":"04","density":1.77},{"type_code":"GTE9046TQ","size_code":"06","density":1.72},{"type_code":"GTE9046TQ","size_code":"08","density":1.67},{"type_code":"GTE9046TQ","size_code":"10","density":1.63},{"type_code":"GTE9046TQ","size_code":"12","density":1.58},{"type_code":"GTE9046TQ","size_code":"14","density":1.53},{"type_code":"GTE9046TQ","size_code":"16","density":1.48},{"type_code":"GTE9046TQ","size_code":"19","density":1.41},{"type_code":"GTE9046TQ","size_code":"22","density":1.34},{"type_code":"GTE9046TQ","size_code":"25","density":1.26},{"type_code":"GTE9048AI","size_code":"04","density":1.68},{"type_code":"GTE9048AI","size_code":"06","density":1.66},{"type_code":"GTE9048AI","size_code":"08","density":1.65},{"type_code":"GTE9048AI","size_code":"10","density":1.63},{"type_code":"GTE9048AI","size_code":"12","density":1.62},{"type_code":"GTE9048AI","size_code":"14","density":1.60},{"type_code":"GTE9048AI","size_code":"16","density":1.59},{"type_code":"GTE9048AI","size_code":"19","density":1.57},{"type_code":"GTE9048AI","size_code":"22","density":1.55},{"type_code":"GTE9048AI","size_code":"25","density":1.52},{"type_code":"GTE9048GS","size_code":"04","density":1.69},{"type_code":"GTE9048GS","size_code":"06","density":1.68},{"type_code":"GTE9048GS","size_code":"08","density":1.66},{"type_code":"GTE9048GS","size_code":"10","density":1.65},{"type_code":"GTE9048GS","size_code":"12","density":1.63},{"type_code":"GTE9048GS","size_code":"14","density":1.62},{"type_code":"GTE9048GS","size_code":"16","density":1.6},{"type_code":"GTE9048GS","size_code":"19","density":1.58},{"type_code":"GTE9048GS","size_code":"22","density":1.55},{"type_code":"GTE9048GS","size_code":"25","density":1.53},{"type_code":"GTE9048TQ","size_code":"04","density":1.57},{"type_code":"GTE9048TQ","size_code":"06","density":1.51},{"type_code":"GTE9048TQ","size_code":"08","density":1.46},{"type_code":"GTE9048TQ","size_code":"10","density":1.40},{"type_code":"GTE9048TQ","size_code":"12","density":1.34},{"type_code":"GTE9048TQ","size_code":"14","density":1.3},{"type_code":"GTE9048TQ","size_code":"16","density":1.23},{"type_code":"GTE9048TQ","size_code":"19","density":1.14},{"type_code":"GTE9048TQ","size_code":"22","density":1.06},{"type_code":"GTE9048TQ","size_code":"25","density":0.97}]
JSON;

        $durasiJson = <<<'JSON'
[{"mesin_code":"08","size_code":"04","spare_panjang_m":0.5},{"mesin_code":"08","size_code":"06","spare_panjang_m":0.5},{"mesin_code":"08","size_code":"08","spare_panjang_m":0.5},{"mesin_code":"18","size_code":"06","spare_panjang_m":0.5},{"mesin_code":"18","size_code":"08","spare_panjang_m":0.5},{"mesin_code":"18","size_code":"10","spare_panjang_m":0.5},{"mesin_code":"18","size_code":"12","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"08","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"10","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"12","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"14","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"16","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"19","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"22","spare_panjang_m":0.5},{"mesin_code":"24","size_code":"25","spare_panjang_m":0.5},{"mesin_code":"32","size_code":"16","spare_panjang_m":0.5},{"mesin_code":"32","size_code":"19","spare_panjang_m":0.5},{"mesin_code":"32","size_code":"22","spare_panjang_m":0.5},{"mesin_code":"32","size_code":"25","spare_panjang_m":0.5}]
JSON;

        $densityRows = array_map(
            static fn (array $row): array => [
                'type_code' => $row['type_code'],
                'size_code' => $row['size_code'],
                'density' => $row['density'],
                'is_active' => true,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            json_decode($densityJson, true, 512, JSON_THROW_ON_ERROR)
        );

        $durasiRows = array_map(
            static fn (array $row): array => [
                'mesin_code' => $row['mesin_code'],
                'size_code' => $row['size_code'],
                'spare_panjang_m' => $row['spare_panjang_m'],
                'is_active' => true,
                'created_at' => $now,
                'updated_at' => $now,
            ],
            json_decode($durasiJson, true, 512, JSON_THROW_ON_ERROR)
        );

        DB::table('master_data_density_gpp')->upsert(
            $densityRows,
            ['type_code', 'size_code'],
            ['density', 'is_active', 'updated_at']
        );

        DB::table('durasi_proses_gpp')->upsert(
            $durasiRows,
            ['mesin_code', 'size_code'],
            ['spare_panjang_m', 'is_active', 'updated_at']
        );
    }
}
